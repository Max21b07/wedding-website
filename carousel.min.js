class GalleryCarousel{constructor(){this.currentSlide=0,this.photos=["photos/pro02.jpg","photos/candid03.jpg","photos/pro07.jpg","photos/candid04.jpg","photos/pro08.jpg","photos/candid05.jpg","photos/pro09.jpg","photos/pro11.jpg","photos/pro12.jpg","photos/candid08.jpg","photos/pro13.jpg","photos/candid09.jpg","photos/pro14.jpg","photos/pro15.jpg","photos/pro03.jpg","photos/pro04.jpg","photos/pro01.jpg","photos/pro05.jpg","photos/pro06.jpg","photos/candid01.jpg","photos/candid02.jpg","photos/pro10.jpg"],this.track=document.getElementById("carouselTrack"),this.indicators=document.getElementById("carouselIndicators"),this.prevBtn=document.getElementById("carouselPrev"),this.nextBtn=document.getElementById("carouselNext"),this.gridView=document.getElementById("galleryGrid"),this.carouselView=document.getElementById("carouselContainer"),this.init()}init(){this.buildCarousel(),this.attachEvents(),document.addEventListener("keydown",t=>{"none"!==this.carouselView.style.display&&("ArrowLeft"===t.key&&this.prev(),"ArrowRight"===t.key&&this.next())}),this.addSwipeSupport()}buildCarousel(){this.photos.forEach((t,e)=>{const s=document.createElement("div");s.className="carousel-slide",s.innerHTML='<img src="'+t+'" alt="Photo de mariage '+(e+1)+'" loading="lazy">',this.track.appendChild(s);const o=document.createElement("button");o.className="carousel-indicator",0===e&&o.classList.add("active"),o.addEventListener("click",()=>this.goToSlide(e)),this.indicators.appendChild(o)}),this.updateCarousel()}attachEvents(){this.prevBtn.addEventListener("click",()=>this.prev()),this.nextBtn.addEventListener("click",()=>this.next()),document.querySelectorAll(".toggle-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.view;document.querySelectorAll(".toggle-btn").forEach(t=>t.classList.remove("active")),t.classList.add("active"),"carousel"===e?(this.gridView.style.display="none",this.carouselView.style.display="block"):(this.gridView.style.display="grid",this.carouselView.style.display="none")})})}prev(){this.currentSlide>0&&(this.currentSlide--,this.updateCarousel())}next(){this.currentSlide<this.photos.length-1&&(this.currentSlide++,this.updateCarousel())}goToSlide(t){this.currentSlide=t,this.updateCarousel()}updateCarousel(){this.track.style.transform="translateX(-"+100*this.currentSlide+"%)",document.querySelectorAll(".carousel-indicator").forEach((t,e)=>{t.classList.toggle("active",e===this.currentSlide)}),this.prevBtn.disabled=0===this.currentSlide,this.nextBtn.disabled=this.currentSlide===this.photos.length-1}addSwipeSupport(){let t=0,e=0,s=!1;this.track.addEventListener("touchstart",e=>{t=e.touches[0].clientX,s=!0}),this.track.addEventListener("touchmove",t=>{s&&(e=t.touches[0].clientX)}),this.track.addEventListener("touchend",()=>{if(!s)return;s=!1;const o=t-e;Math.abs(o)>50&&(o>0?this.next():this.prev())})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{new GalleryCarousel}):new GalleryCarousel;